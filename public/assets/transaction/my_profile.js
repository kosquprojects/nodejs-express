!function(e){var t={};function s(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=16)}({16:function(e,t){!function(){class e{constructor(e,t,s,o,a){this.s_name=e,this.s_id=t,this.s_role=s,this.s_email_id=o,this.s_pass=a}}class t{static addProfile(e,s){try{let o={data:s};$.ajax({type:"POST",url:e,crossDomain:!0,data:o,beforeSend:function(){},success:function(e){console.log(e),getnotify("success",void 0,1,"stack_top_right",e.mess,e.mess_body),t.getuserByEmail(),$("#content_form").hide(),$("#userlisttbl").show()},error:function(e){console.log(e),getnotify("danger",void 0,1,"stack_top_right",e.responseJSON.mess,e.responseJSON.mess_body)},complete:function(){}})}catch(e){console.log(e)}}static getuserByEmail(){try{let e={id:localStorage.getItem("id"),role:localStorage.getItem("role")};$.ajax({url:"./evim/getuserByEmail",type:"POST",crossDomain:!0,data:e,success:function(e){console.log(e);var t=e.data[0];(class{static showuserdatabyid(e){try{$("#userdetail").show(),$("#useredit").hide(),$(".uid").text(e.userid),$(".uname").text(e.usernm),$("#usrnm").text(e.usernm),localStorage.setItem("name",e.usernm),$(".uemail").text(e.emailid),"ven"==localStorage.getItem("role")?$(".urole").text("Vendor"):"emp"==localStorage.getItem("role")?$(".urole").text("Employee"):$(".urole").text(localStorage.getItem("role")),$("#role").val(localStorage.getItem("role")),$("#s_name").val(e.usernm),$("#s_id").val(e.userid),$("#s_email").val(e.emailid),$("#s_pass").val(e.pass),$("#s_con_pass").val(e.pass),$("#id").val(e.userid);var t="";t=""!=e.path&&null!=e.path?e.path:"./assets/img/avatars/user.jpg",$("#pic1").attr("src",t),$("#pic2").attr("src",t)}catch(e){console.log(e)}}}).showuserdatabyid(t),getnotify("success",void 0,1,"stack_top_right",e.mess,e.mess_body)},error:function(e){console.log(e),getnotify("danger",void 0,1,"stack_top_right",e.responseJSON.mess,e.responseJSON.mess_body)},complete:function(){}})}catch(e){console.log(e)}}}document.addEventListener("DOMContentLoaded",t.getuserByEmail()),$("#saveuser").click((function(e){e.preventDefault(),tag="SAVE",status="0",$("#form-user").submit()})),$("#updateuser").click((function(e){e.preventDefault(),tag="UPDATE",status="1",$("#form-user").submit()})),$("#form-user").on("submit",(function(s){try{const s=$("#s_name").val(),o=$("#s_id").val(),a=localStorage.getItem("role"),r=$("#s_email").val(),n=$("#s_pass").val();if($("#s_con_pass").val()!=n)return alert("Password mismatch"),!0;const l=new e(s,o,a,r,n);if("UPDATE"==tag){t.addProfile("./evim/updateProfile",l)}}catch(e){console.log(e)}})),divopennclose=function(){try{$("#userdetail").hide(),$("#useredit").show()}catch(e){console.log(e)}},$("#my-profile-pic").on("submit",(function(e){try{getCall_active()}catch(e){alert(e)}})),getCall_active=function(){try{$("#loader").addClass("is-active"),document.getElementById("loader").setAttribute("data-text","Loading...")}catch(e){alert(e)}},getCall_deactive=function(){try{$("#loader").removeClass("is-active");var e=$("#output_frame1").contents().find("pre").html();if(!e)return;var t=this.JSON.parse(e);200==t.status?($("#pic2").attr("src",t.data),$("#pic1").attr("src",t.data),$("#proimg").attr("src",t.data),localStorage.setItem("profile",t.data),$(".bandkro").click(),sataus="success"):sataus="danger",getnotify(sataus,void 0,1,"stack_top_right",t.mess,t.mess_body)}catch(e){alert(e)}}}()}});